# Pose scoring using deep learning

This work is based on work by Scantlebury et.al from Oxford University.
A publication is soon to be submitted.

Deep learning is used to score docked poses.

This example uses the same data as the [NUDT7 virtual screening](../vscreening) example.
The poses that are scored are generated by that example, with 20 dockings being performed,
the top 10 being kept, and a score threshold of +5, which means that all poses are likely
to be kept. Those docked poses are then scored using the deep learning algorithm.

The data is for 5 different fragment screening hits, each of which is handled seperately. 

Information on the training sets and the creation of the Docker containers can be found
[here](https://github.com/InformaticsMatters/dls-deep/tree/ubuntu).

Step 3 requires a GPU enabled Docker environment.  

## Running

**Step 1:** Copy the input proteins in PDB format and the docked poses as SDF:
```
./1_copy_files.sh  2_gninatyper.sh  3_execute.sh 
```
The data is copied into the `NUDT7A-x0129`, `NUDT7A-x0151`, `NUDT7A-x0254`, `NUDT7A-x0384` and `NUDT7A-x0389`
directories. 

**Step 2:** Generate inputs in gninatypes fromat
```
./2_gninatyper.sh
```
This converts inputs into the required format in the `<dir>/gninatypes/protein` and `<dir>/gninatypes/lignds` dir
and creates a `<dir>/gninatypes/input.types` file that defines the inputs for the next step.

**Step 3:** Execute
```
./3_execute.sh 
```
This runs the deep learning and generates the `<dir>/output/predictions.txt` results file.
A GPU enabled Docker environment is needed for this step.

**Note:** This workflow is in the very early stages of development.